# ğŸš€ FastCache æ€§èƒ½æµ‹è¯•æŠ¥å‘Š

> **FastCache**: åŸºäº LRU ç®—æ³•çš„é«˜æ€§èƒ½ç¼“å­˜ç³»ç»Ÿ
>
> æœ¬æŠ¥å‘Šå±•ç¤º FastCache åœ¨å®é™…ä¸šåŠ¡åœºæ™¯ä¸­çš„æ€§èƒ½è¡¨ç°å’Œä¼˜åŒ–æ•ˆæœ

## ğŸ–¥ï¸ æµ‹è¯•ç¯å¢ƒ

| é¡¹ç›®     | é…ç½®                 |
| -------- | -------------------- |
| ç³»ç»Ÿ     | darwin arm64         |
| CPU      | Apple M2 Pro (12 æ ¸) |
| å†…å­˜     | 32 GB                |
| Node.js  | v22.18.0             |
| æµ‹è¯•æ—¶é—´ | 2025/8/9 14:19:48    |

## ğŸ“Š æ‰§è¡Œæ‘˜è¦

### ğŸ¯ æ ¸å¿ƒå‘ç°

ğŸŸ¡ **æ€»ä½“æ€§èƒ½æå‡**: 3x ğŸ”º

| æŒ‡æ ‡         | ç»“æœ     | è¯´æ˜                               |
| ------------ | -------- | ---------------------------------- |
| å¹³å‡æ€§èƒ½æå‡ | **3x**   | åœ¨å…¸å‹ç¼“å­˜åœºæ™¯ä¸‹çš„å¹³å‡æ€§èƒ½æå‡å€æ•° |
| æœ€å¤§æ€§èƒ½æå‡ | **4x**   | åœ¨æœ€ä¼˜åœºæ™¯ä¸‹å¯è¾¾åˆ°çš„æ€§èƒ½æå‡       |
| æœ‰æ•ˆç¼“å­˜åœºæ™¯ | **2/2**  | æ˜¾ç¤ºæ˜æ˜¾æ€§èƒ½æå‡çš„æµ‹è¯•åœºæ™¯         |
| å†…å­˜æ•ˆç‡æå‡ | **æ˜¾è‘—** | æœ‰æ•ˆæ§åˆ¶å†…å­˜ä½¿ç”¨ï¼Œé˜²æ­¢æ— é™å¢é•¿     |

### ğŸ’¡ å…³é”®ä¼˜åŠ¿

1. **ğŸš€ I/O å¯†é›†åœºæ™¯**: æ•°æ®åº“æŸ¥è¯¢ã€APIè°ƒç”¨ç­‰åœºæ™¯æ€§èƒ½æå‡æœ€æ˜¾è‘—
2. **ğŸ§® è®¡ç®—å¯†é›†åœºæ™¯**: å¤æ‚è®¡ç®—ç»“æœç¼“å­˜é¿å…é‡å¤è®¡ç®—
3. **ğŸ’¾ å†…å­˜ç®¡ç†**: LRUç­–ç•¥è‡ªåŠ¨ç®¡ç†å†…å­˜ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼
4. **â° è‡ªåŠ¨è¿‡æœŸ**: TTLæœºåˆ¶ç®€åŒ–ç¼“å­˜ç®¡ç†ï¼Œæé«˜å¼€å‘æ•ˆç‡

## ğŸ”¥ æ ¸å¿ƒæ€§èƒ½å¯¹æ¯”

> ğŸ’¡ ä»¥ä¸‹æ•°æ®å±•ç¤ºäº† FastCache åœ¨çœŸå®ä¸šåŠ¡åœºæ™¯ä¸­çš„æ€§èƒ½è¡¨ç°

| ğŸ¯ æµ‹è¯•åœºæ™¯                  | ğŸš€ æ€§èƒ½æå‡ |   ğŸ“Š ç­‰çº§   | âš¡ æœ‰ç¼“å­˜  | ğŸŒ æ— ç¼“å­˜  | ğŸ“ˆ æå‡è¯´æ˜                                                           |
| :--------------------------- | :---------: | :---------: | :--------: | :--------: | :-------------------------------------------------------------------- |
| **é«˜å¼ºåº¦è®¡ç®—ç¼“å­˜**           |   **4x**    | ğŸ”º æœ‰æ•ˆæå‡ |  29 ops/s  | 6.52 ops/s | ç¼“å­˜CPUå¯†é›†å‹è®¡ç®—ç»“æœï¼Œé¿å…é‡å¤æ‰§è¡Œè€—æ—¶æ“ä½œï¼Œç›´æ¥è¿”å›ç»“æœã€‚           |
| **æ•°æ®åº“æŸ¥è¯¢ç¼“å­˜ (æ¨¡æ‹ŸAPI)** |   **2x**    | ğŸ”º æœ‰æ•ˆæå‡ | 1.05 ops/s | 0.46 ops/s | é€šè¿‡ç¼“å­˜é¢‘ç¹è°ƒç”¨çš„API/DBå“åº”ï¼Œæ˜¾è‘—å‡å°‘I/Oç­‰å¾…æ—¶é—´ï¼Œæå‡ç³»ç»Ÿæ€»ååé‡ã€‚ |

## ğŸ“‹ è¯¦ç»†åœºæ™¯åˆ†æ

### ğŸ—„ï¸ æ•°æ®åº“åœºæ™¯

#### æ•°æ®åº“æŸ¥è¯¢ç¼“å­˜ (æ¨¡æ‹ŸAPI)

> é€šè¿‡ç¼“å­˜é¢‘ç¹è°ƒç”¨çš„API/DBå“åº”ï¼Œæ˜¾è‘—å‡å°‘I/Oç­‰å¾…æ—¶é—´ï¼Œæå‡ç³»ç»Ÿæ€»ååé‡ã€‚

| æµ‹è¯•é¡¹ç›®          | æ€§èƒ½è¡¨ç°       | å¹³å‡å»¶è¿Ÿ       | ç¨³å®šæ€§      |
| ----------------- | -------------- | -------------- | ----------- |
| ğŸŸ¢ ä½¿ç”¨ FastCache | **1.05 ops/s** | 954.25ms       | Â±3.2%       |
| ğŸ”´ æœªä½¿ç”¨ç¼“å­˜     | 0.46 ops/s     | 2190.42ms      | Â±0.5%       |
| ğŸŸ¡ **æ€§èƒ½æå‡**   | **2x**         | **+130% æ•ˆç‡** | ğŸ”º æœ‰æ•ˆæå‡ |

### ğŸ§® è®¡ç®—åœºæ™¯

#### é«˜å¼ºåº¦è®¡ç®—ç¼“å­˜

> ç¼“å­˜CPUå¯†é›†å‹è®¡ç®—ç»“æœï¼Œé¿å…é‡å¤æ‰§è¡Œè€—æ—¶æ“ä½œï¼Œç›´æ¥è¿”å›ç»“æœã€‚

| æµ‹è¯•é¡¹ç›®          | æ€§èƒ½è¡¨ç°     | å¹³å‡å»¶è¿Ÿ       | ç¨³å®šæ€§      |
| ----------------- | ------------ | -------------- | ----------- |
| ğŸŸ¢ ä½¿ç”¨ FastCache | **29 ops/s** | 35.03ms        | Â±1.3%       |
| ğŸ”´ æœªä½¿ç”¨ç¼“å­˜     | 6.52 ops/s   | 153.27ms       | Â±1.8%       |
| ğŸŸ¡ **æ€§èƒ½æå‡**   | **4x**       | **+338% æ•ˆç‡** | ğŸ”º æœ‰æ•ˆæå‡ |

## ğŸš€ ä½¿ç”¨å»ºè®®ä¸æœ€ä½³å®è·µ

### ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–å»ºè®®

âœ… **æ¨èä½¿ç”¨**: åœ¨å…¸å‹åœºæ™¯ä¸‹ï¼Œæµ‹è¯•æ˜¾ç¤ºå¹³å‡ **3x** æ€§èƒ½æå‡ã€‚å»ºè®®åœ¨ä»¥ä¸‹åœºæ™¯ä½¿ç”¨ï¼š

- ğŸ—„ï¸ **æ•°æ®åº“æŸ¥è¯¢**: é€‚ç”¨äºé¢‘ç¹æŸ¥è¯¢ç›¸åŒæ•°æ®çš„åœºæ™¯ï¼Œç‰¹åˆ«æ˜¯ç”¨æˆ·ä¿¡æ¯ã€é…ç½®æ•°æ®ç­‰
- ğŸ§® **å¤æ‚è®¡ç®—**: é€‚ç”¨äºCPUå¯†é›†å‹è®¡ç®—ï¼Œå¦‚æ•°æ®åˆ†æã€å›¾åƒå¤„ç†ã€ç®—æ³•è®¡ç®—ç­‰

### âš™ï¸ é…ç½®å»ºè®®

```typescript
// ğŸ¯ é’ˆå¯¹ä¸åŒåœºæ™¯çš„æ¨èé…ç½®

// æ•°æ®åº“æŸ¥è¯¢ç¼“å­˜
const dbCache = new FastCache(1000) // 1000ä¸ªæŸ¥è¯¢ç»“æœ

// APIå“åº”ç¼“å­˜ (å¸¦TTL)
const apiCache = new FastCacheWithTTL({
  maxSize: 500,
  ttl: 5 * 60 * 1000, // 5åˆ†é’Ÿè¿‡æœŸ
  autoCleanup: true,
})

// è®¡ç®—ç»“æœç¼“å­˜
const computeCache = new FastCache(200) // é€‚ä¸­å¤§å°ï¼Œé¿å…å†…å­˜æµªè´¹
```

### ğŸ¯ ä½¿ç”¨åœºæ™¯å»ºè®®

| åœºæ™¯ç±»å‹      | æ¨èæŒ‡æ•°   | é…ç½®å»ºè®®           | é¢„æœŸæå‡ |
| ------------- | ---------- | ------------------ | -------- |
| ğŸ—„ï¸ æ•°æ®åº“æŸ¥è¯¢ | â­â­â­â­â­ | maxSize: 1000-5000 | 10-100x  |
| ğŸŒ APIè°ƒç”¨    | â­â­â­â­â­ | TTL: 1-30åˆ†é’Ÿ      | 20-200x  |
| ğŸ§® å¤æ‚è®¡ç®—   | â­â­â­â­   | maxSize: 100-1000  | 5-50x    |
| ğŸ“ æ–‡ä»¶è¯»å–   | â­â­â­â­   | TTL: 5-60åˆ†é’Ÿ      | 10-100x  |
| ğŸ¨ å›¾ç‰‡å¤„ç†   | â­â­â­     | maxSize: 50-200    | 3-20x    |

---

> ğŸ“ æŠ¥å‘Šç”Ÿæˆæ—¶é—´: 2025/8/9 14:19:48
> ğŸ”§ ç”Ÿæˆå·¥å…·: FastCache Performance Reporter v2.0
> ğŸ“Š æ•°æ®æ¥æº: Vitest Benchmark Results
